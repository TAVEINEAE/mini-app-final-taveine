<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TAVEINE Admin</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="admin.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    .hidden { display: none !important; }
    .nav-link { cursor: pointer; }
  </style>
</head>
<body>

<div class="layout">
  <aside class="sidebar">
    <h2>ðŸ”¥ TAVEINE</h2>
    <nav id="main-nav">
      <a class="nav-link active" data-page="dashboard"><i class="fas fa-home"></i> Dashboard</a>
      <a class="nav-link" data-page="products"><i class="fas fa-box"></i> Products</a>
      <a class="nav-link" data-page="orders"><i class="fas fa-shopping-cart"></i> Orders</a>
      <a class="nav-link" data-page="customers"><i class="fas fa-users"></i> Customers</a>
    </nav>
  </aside>

  <main class="main">
    <header class="topbar">
      <span id="auth-status">Checking login...</span>
      <button class="btn-logout" onclick="logout()">Logout</button>
    </header>

    <section class="page" id="dashboard-page">
      <section class="stats">
        <div class="card"><h4>Total Orders</h4><strong id="ordersCount">0</strong></div>
        <div class="card"><h4>Revenue</h4><strong id="revenue">0 AED</strong></div>
        <div class="card"><h4>Products</h4><strong id="productsCount">0</strong></div>
      </section>
      <section class="charts">
        <div class="chart-box">
          <h3>Sales Overview</h3>
          <canvas id="salesChart"></canvas>
        </div>
      </section>
    </section>

    <section class="page hidden" id="products-page">
      <section class="form-section">
        <h3>Add New Product</h3>
        <div class="form-grid">
          <input id="p-name" type="text" placeholder="Product Name">
          <input id="p-price" type="number" placeholder="Price (AED)">
          <input id="p-category" type="text" placeholder="Category">
          <input id="p-image" type="text" placeholder="Image URL">
          <input id="p-tags" type="text" placeholder="Tags (comma separated)" class="full">
          <button class="btn-add" onclick="addProduct()">âž• Add Product</button>
        </div>
      </section>
      <section class="charts">
        <div class="chart-box">
          <h3>Products in Store</h3>
          <div id="products-list"></div>
        </div>
      </section>
    </section>

    <section class="page hidden" id="orders-page">
        <div class="chart-box"><h3>Orders</h3><p>Coming soon...</p></div>
    </section>
    <section class="page hidden" id="customers-page">
        <div class="chart-box"><h3>Customers</h3><p>Coming soon...</p></div>
    </section>
  </main>
</div>

<script type="module" src="./admin.js"></script>

<script>
  // Ð˜Ð½Ð¸Ñ†Ð¸Ð°Ð»Ð¸Ð·Ð°Ñ†Ð¸Ñ Ð³Ñ€Ð°Ñ„Ð¸ÐºÐ° (Ð¿Ñ€Ð¾ÑÑ‚Ð°Ñ Ð·Ð°Ð³Ð»ÑƒÑˆÐºÐ°)
  window.onload = () => {
    const ctx = document.getElementById("salesChart");
    if (ctx) {
      new Chart(ctx, {
        type: "line",
        data: {
          labels: ["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],
          datasets: [{
            label: "Sales",
            data: [5,20,15,25,10,14,11],
            borderColor: "#1f3f38",
            tension: 0.4,
            fill: true
          }]
        }
      });
    }
  };
</script>
</body>
</html>
